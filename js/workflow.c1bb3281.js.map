{"version":3,"sources":["webpack:///./src/views/workflow/index.vue?af44","webpack:///./src/views/workflow/index.vue?de33","webpack:///src/views/workflow/index.vue","webpack:///./src/views/workflow/index.vue?79ee","webpack:///./src/views/workflow/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","dialogVisible","handleClose","on","$event","slot","_v","_s","formTitle","model","value","callback","$$v","activeName","expression","handleSave","directives","name","rawName","ref","basicSetting","flowKeyOptions","flowGroupOptions","flowKeyChange","processConfig","flowKey","fetchCondition","fetchUserList","fetchDeptList","fetchRoleList","tipVisible","_l","item","index","key","type","staticRenderFns","Promise","setTimeout","pkId","nodeName","childNode","nodeUserList","props","String","default","Boolean","data","formData","tipList","formDesignConfig","advancedSetting","form","rules","submitDisabled","computed","watch","created","mounted","reset","fetchFlowKey","fetchFlowGroup","methods","nodeConfigDeleteEnd","nodeConfigToArray","defaultProcessConfig","$emit","nodeConfig","conditionNodes","map","c","conditionList","JSON","parse","console","log","err","all","p1","p2","params","component"],"mappings":"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","file":"js/workflow.c1bb3281.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"workflow\"},[_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"width\":\"880px\",\"fullscreen\":\"\",\"append-to-body\":\"\",\"close-on-click-modal\":false,\"custom-class\":\"workflow-dialog\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('div',{staticClass:\"header-nav\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('div',{staticClass:\"header-nav-left\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-arrow-left\",\"circle\":\"\"},on:{\"click\":_vm.handleClose}}),_c('label',[_vm._v(_vm._s(_vm.formTitle))])],1),_c('el-tabs',{staticClass:\"header-nav-center\",model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基础设置\",\"name\":\"basicSetting\"}}),_c('el-tab-pane',{attrs:{\"label\":\"流程设计\",\"name\":\"processConfig\"}})],1),_c('div',{staticClass:\"header-nav-right\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.handleClose}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"round\":\"\"},on:{\"click\":_vm.handleSave}},[_vm._v(\"发 布\")])],1)],1),_c('div',{staticClass:\"workflow-body\"},[_c('basic-setting',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === 'basicSetting'),expression:\"activeName === 'basicSetting'\"}],ref:\"basicSetting\",attrs:{\"conf\":_vm.basicSetting,\"tab-name\":\"basicSetting\",\"flow-key-options\":_vm.flowKeyOptions,\"flow-group-options\":_vm.flowGroupOptions},on:{\"flowKeyChange\":_vm.flowKeyChange}}),_c('process-config',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === 'processConfig'),expression:\"activeName === 'processConfig'\"}],ref:\"processConfig\",attrs:{\"conf\":_vm.processConfig,\"flow-key\":_vm.flowKey,\"tab-name\":\"processConfig\"},on:{\"fetchCondition\":_vm.fetchCondition,\"fetchUserList\":_vm.fetchUserList,\"fetchDeptList\":_vm.fetchDeptList,\"fetchRoleList\":_vm.fetchRoleList}})],1),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.tipVisible,\"append-to-body\":\"\",\"width\":\"520px\",\"top\":\"20vh\",\"custom-class\":\"workflow-tip-dialog\"},on:{\"update:visible\":function($event){_vm.tipVisible=$event}}},[_c('i',{staticClass:\"el-icon-error\"}),_c('span',{staticClass:\"confirm-title\"},[_vm._v(\"当前无法发布\")]),_c('div',{staticClass:\"confirm-content\"},[_c('div',[_c('p',{staticClass:\"error-modal-desc\"},[_vm._v(\"以下内容不完善，需进行修改\")]),_c('div',{staticClass:\"error-modal-list\"},_vm._l((_vm.tipList),function(item,index){return _c('div',{key:index,staticClass:\"error-modal-item\"},[_c('div',{staticClass:\"error-modal-item-label\"},[_vm._v(\"流程设计\")]),_c('div',{staticClass:\"error-modal-item-content\"},[_vm._v(_vm._s(item.name)+\" 未选择\"+_vm._s(item.type))])])}),0)])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.tipVisible = false}}},[_vm._v(\"我知道了\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.tipVisible = false}}},[_vm._v(\"前往修改\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"workflow\">\r\n    <el-dialog :visible.sync=\"dialogVisible\" width=\"880px\" fullscreen append-to-body :close-on-click-modal=\"false\" custom-class=\"workflow-dialog\" :before-close=\"handleClose\">\r\n      <div slot=\"title\" class=\"header-nav\">\r\n        <div class=\"header-nav-left\">\r\n          <el-button size=\"mini\" icon=\"el-icon-arrow-left\" circle @click=\"handleClose\" />\r\n          <label>{{ formTitle }}</label>\r\n        </div>\r\n        <el-tabs v-model=\"activeName\" class=\"header-nav-center\">\r\n          <el-tab-pane label=\"基础设置\" name=\"basicSetting\" />\r\n          <!-- <el-tab-pane label=\"表单设计\" name=\"formDesign\" /> -->\r\n          <el-tab-pane label=\"流程设计\" name=\"processConfig\" />\r\n          <!-- <el-tab-pane label=\"高级设置\" name=\"advancedSetting\" /> -->\r\n        </el-tabs>\r\n        <div class=\"header-nav-right\">\r\n          <el-button size=\"mini\" round @click=\"handleClose\">取 消</el-button>\r\n          <el-button type=\"primary\" size=\"mini\" round @click=\"handleSave\">发 布</el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"workflow-body\">\r\n        <basic-setting\r\n          v-show=\"activeName === 'basicSetting'\"\r\n          ref=\"basicSetting\"\r\n          :conf=\"basicSetting\"\r\n          tab-name=\"basicSetting\"\r\n          :flow-key-options=\"flowKeyOptions\"\r\n          :flow-group-options=\"flowGroupOptions\"\r\n          @flowKeyChange=\"flowKeyChange\"\r\n        />\r\n        <!-- <dynamic-form v-show=\"activeName === 'formDesign'\" ref=\"formDesign\" :conf=\"formDesignConfig\" tab-name=\"formDesign\" /> -->\r\n        <process-config\r\n          v-show=\"activeName === 'processConfig'\"\r\n          ref=\"processConfig\"\r\n          :conf=\"processConfig\"\r\n          :flow-key=\"flowKey\"\r\n          tab-name=\"processConfig\"\r\n          @fetchCondition=\"fetchCondition\"\r\n          @fetchUserList=\"fetchUserList\"\r\n          @fetchDeptList=\"fetchDeptList\"\r\n          @fetchRoleList=\"fetchRoleList\"\r\n        />\r\n        <!-- <advanced-setting v-show=\"activeName === 'advancedSetting'\" ref=\"advancedSetting\" :conf=\"advancedSetting\" tab-name=\"advancedSetting\" /> -->\r\n      </div>\r\n\r\n      <el-dialog title=\"提示\" :visible.sync=\"tipVisible\" append-to-body width=\"520px\" top=\"20vh\" custom-class=\"workflow-tip-dialog\">\r\n        <i class=\"el-icon-error\" />\r\n        <span class=\"confirm-title\">当前无法发布</span>\r\n        <div class=\"confirm-content\">\r\n          <div>\r\n            <p class=\"error-modal-desc\">以下内容不完善，需进行修改</p>\r\n            <div class=\"error-modal-list\">\r\n              <div v-for=\"(item, index) in tipList\" :key=\"index\" class=\"error-modal-item\">\r\n                <div class=\"error-modal-item-label\">流程设计</div>\r\n                <div class=\"error-modal-item-content\">{{ item.name }} 未选择{{ item.type }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"tipVisible = false\">我知道了</el-button>\r\n          <el-button type=\"primary\" @click=\"tipVisible = false\">前往修改</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst addObj = () => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => resolve({}));\r\n  });\r\n};\r\nconst defaultProcessConfig = {\r\n  pkId: 'start',\r\n  nodeName: '发起人',\r\n  type: 'start',\r\n  childNode: null,\r\n  nodeUserList: [],\r\n};\r\nexport default {\r\n  name: 'workflow',\r\n  props: {\r\n    formTitle: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    dialogVisible: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // formData: {\r\n    //   type: Object,\r\n    //   default: () => {},\r\n    // },\r\n  },\r\n  data() {\r\n    return {\r\n      formData: {},\r\n      tipList: [],\r\n      tipVisible: false,\r\n      flowKeyOptions: [],\r\n      flowGroupOptions: [],\r\n      flowKey: 'default',\r\n      basicSetting: { state: 1 },\r\n      formDesignConfig: {},\r\n      processConfig: {},\r\n      advancedSetting: {},\r\n      activeName: 'basicSetting',\r\n      form: {},\r\n      rules: {},\r\n      submitDisabled: false,\r\n    };\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    dialogVisible: 'reset',\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    this.reset();\r\n    this.fetchFlowKey();\r\n    this.fetchFlowGroup();\r\n  },\r\n  methods: {\r\n    reset() {\r\n      if (this.dialogVisible) {\r\n        const formData = JSON.parse(JSON.stringify(this.formData));\r\n        this.nodeConfigDeleteEnd(formData.processConfig);\r\n        this.nodeConfigToArray(formData.processConfig);\r\n        this.flowKey = formData.basicSetting ? formData.basicSetting.flowKey : 'default';\r\n        this.basicSetting = formData.basicSetting || { state: 1 };\r\n        this.formDesignConfig = formData.formDesignConfig || {};\r\n        this.processConfig = formData.processConfig || defaultProcessConfig;\r\n        this.advancedSetting = formData.advancedSetting || {};\r\n      }\r\n    },\r\n    handleClose() {\r\n      this.$emit('closeDialog', false);\r\n    },\r\n    nodeConfigDeleteEnd(nodeConfig) {\r\n      if (nodeConfig && nodeConfig.childNode) {\r\n        if (nodeConfig.childNode.type === 'end') {\r\n          nodeConfig.childNode = null;\r\n        } else {\r\n          this.nodeConfigDeleteEnd(nodeConfig.childNode);\r\n        }\r\n      }\r\n    },\r\n    nodeConfigToArray(nodeConfig) {\r\n      if (nodeConfig) {\r\n        if (nodeConfig.childNode) {\r\n          this.nodeConfigToArray(nodeConfig.childNode);\r\n        }\r\n        if (nodeConfig.conditionNodes) {\r\n          nodeConfig.conditionNodes = nodeConfig.conditionNodes.map((c) => {\r\n            this.nodeConfigToArray(c.childNode);\r\n            try {\r\n              c.conditionList = c.conditionList ? JSON.parse(c.conditionList) : [];\r\n              return c;\r\n            } catch (err) {\r\n              console.log('数据格式不合法：', err);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    },\r\n    flowKeyChange(flowKey) {\r\n      this.flowKey = flowKey || 'default';\r\n    },\r\n\r\n    handleSave() {\r\n      // 校验基础设置\r\n      const p1 = this.$refs['basicSetting'].getData();\r\n      const p2 = this.$refs['processConfig'].getData();\r\n      Promise.all([p1, p2])\r\n        .then((res) => {\r\n          const params = {\r\n            basicSetting: res[0].formData,\r\n            processConfig: res[1].formData,\r\n            formDesignConfig: {},\r\n            advancedSetting: {},\r\n          };\r\n          addObj(params).then(() => {\r\n            this.$message.success('添加成功');\r\n            this.$emit('closeDialog', true);\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          if (err.target) {\r\n            this.activeName = err.target;\r\n            if (err.target === 'processConfig') {\r\n              this.tipVisible = err.tipList && err.tipList.length > 0;\r\n              this.tipList = err.tipList;\r\n            }\r\n          }\r\n        });\r\n    },\r\n    // 获取流程类型\r\n    fetchFlowKey() {\r\n      return new Promise(() => {\r\n        setTimeout(() => {\r\n          this.flowKeyOptions = [\r\n            { processKey: 1, processName: 'test1' },\r\n            { processKey: 2, processName: 'test2' },\r\n          ];\r\n        }, 300);\r\n      });\r\n    },\r\n    // 获取流程分组\r\n    fetchFlowGroup() {\r\n      return new Promise(() => {\r\n        setTimeout(() => {\r\n          this.flowGroupOptions = [\r\n            { id: 1, categoryName: 'test1' },\r\n            { id: 2, categoryName: 'test2' },\r\n          ];\r\n        }, 300);\r\n      });\r\n    },\r\n    // 获取条件\r\n    fetchCondition(cb) {\r\n      return new Promise((resolve) => {\r\n        setTimeout(\r\n          () =>\r\n            resolve([\r\n              {\r\n                id: 0,\r\n                processDefinitionKey: null,\r\n                fieldLabel: '发起人',\r\n                fieldName: 'starterUser',\r\n                fieldType: 'starterUser',\r\n                canditionOptions: [\r\n                  {\r\n                    label: '包含',\r\n                    value: 'in',\r\n                  },\r\n                  {\r\n                    label: '不包含',\r\n                    value: 'nin',\r\n                  },\r\n                ],\r\n                component: 'select',\r\n                dictOptions: null,\r\n              },\r\n              {\r\n                id: 4,\r\n                processDefinitionKey: null,\r\n                fieldLabel: '请假时长',\r\n                fieldName: 'test',\r\n                fieldType: 'number',\r\n                canditionOptions: [\r\n                  {\r\n                    label: '大于',\r\n                    value: 'gt',\r\n                  },\r\n                  {\r\n                    label: '小于',\r\n                    value: 'lt',\r\n                  },\r\n                  {\r\n                    label: '等于',\r\n                    value: 'eq',\r\n                  },\r\n                  {\r\n                    label: '大于等于',\r\n                    value: 'gt_eq',\r\n                  },\r\n                  {\r\n                    label: '小于等于',\r\n                    value: 'lt_eq',\r\n                  },\r\n                ],\r\n                component: 'input',\r\n                dictOptions: null,\r\n              },\r\n              {\r\n                id: 9,\r\n                processDefinitionKey: null,\r\n                fieldLabel: '请假类型',\r\n                fieldName: 'leaveType',\r\n                fieldType: 'array',\r\n                canditionOptions: [\r\n                  {\r\n                    label: '包含',\r\n                    value: 'in',\r\n                  },\r\n                  {\r\n                    label: '不包含',\r\n                    value: 'nin',\r\n                  },\r\n                ],\r\n                component: 'select',\r\n                dictOptions: [\r\n                  {\r\n                    label: '事件',\r\n                    value: '1',\r\n                  },\r\n                  {\r\n                    label: '年假',\r\n                    value: '2',\r\n                  },\r\n                  {\r\n                    label: '病假',\r\n                    value: '3',\r\n                  },\r\n                  {\r\n                    label: '婚假',\r\n                    value: '4',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 10,\r\n                processDefinitionKey: null,\r\n                fieldLabel: '字段1',\r\n                fieldName: 'field01',\r\n                fieldType: 'string',\r\n                canditionOptions: [\r\n                  {\r\n                    label: '大于',\r\n                    value: 'gt',\r\n                  },\r\n                  {\r\n                    label: '小于',\r\n                    value: 'lt',\r\n                  },\r\n                  {\r\n                    label: '等于',\r\n                    value: 'eq',\r\n                  },\r\n                ],\r\n                component: 'input',\r\n                dictOptions: null,\r\n              },\r\n              {\r\n                id: 11,\r\n                processDefinitionKey: null,\r\n                fieldLabel: '字段2',\r\n                fieldName: 'field02',\r\n                fieldType: 'date',\r\n                canditionOptions: [\r\n                  {\r\n                    label: '大于',\r\n                    value: 'gt',\r\n                  },\r\n                  {\r\n                    label: '小于',\r\n                    value: 'lt',\r\n                  },\r\n                  {\r\n                    label: '等于',\r\n                    value: 'eq',\r\n                  },\r\n                ],\r\n                component: 'input',\r\n                dictOptions: null,\r\n              },\r\n              {\r\n                id: 12,\r\n                processDefinitionKey: null,\r\n                fieldLabel: '字段3',\r\n                fieldName: 'field03',\r\n                fieldType: 'boolean',\r\n                canditionOptions: [\r\n                  {\r\n                    label: '大于',\r\n                    value: 'gt',\r\n                  },\r\n                  {\r\n                    label: '小于',\r\n                    value: 'lt',\r\n                  },\r\n                  {\r\n                    label: '等于',\r\n                    value: 'eq',\r\n                  },\r\n                ],\r\n                component: 'input',\r\n                dictOptions: null,\r\n              },\r\n            ]),\r\n          300\r\n        );\r\n      }).then(cb);\r\n    },\r\n    // 获取用户列表\r\n    fetchUserList(params, cb) {\r\n      return new Promise((resolve) => {\r\n        console.log('fetchUserList', params);\r\n        setTimeout(\r\n          () =>\r\n            resolve([\r\n              { value: 1, label: 'test1' },\r\n              { value: 2, label: 'test2' },\r\n            ]),\r\n          300\r\n        );\r\n      }).then(cb);\r\n    },\r\n    // 获取部门列表\r\n    fetchDeptList(params, cb) {\r\n      return new Promise((resolve) => {\r\n        console.log('fetchDeptList', params);\r\n        setTimeout(\r\n          () =>\r\n            resolve([\r\n              { value: 1, label: 'test1' },\r\n              { value: 2, label: 'test2' },\r\n            ]),\r\n          300\r\n        );\r\n      }).then(cb);\r\n    },\r\n    // 获取角色\r\n    fetchRoleList(params, cb) {\r\n      return new Promise((resolve) => {\r\n        console.log('fetchRoleList', params);\r\n        setTimeout(\r\n          () =>\r\n            resolve([\r\n              { value: 1, label: 'test1' },\r\n              { value: 2, label: 'test2' },\r\n            ]),\r\n          300\r\n        );\r\n      }).then(cb);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.workflow-dialog {\r\n  .el-dialog__header {\r\n    padding: 0;\r\n    .el-dialog__headerbtn {\r\n      display: none;\r\n    }\r\n    .header-nav {\r\n      z-index: 11;\r\n      position: relative;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      height: 54px;\r\n      padding: 0 20px 0 20px;\r\n      background: #fff;\r\n      box-shadow: 0 1px 4px 0 rgba(17, 31, 44, 0.04);\r\n      .header-nav-left {\r\n        display: flex;\r\n        align-items: center;\r\n        .el-button {\r\n          margin-right: 12px;\r\n        }\r\n      }\r\n      .header-nav-center {\r\n        position: relative;\r\n        display: inline-block;\r\n        align-items: center;\r\n        justify-content: center;\r\n        .el-tabs__header {\r\n          margin: 0;\r\n          .el-tabs__nav-wrap {\r\n            .el-tabs__nav-scroll {\r\n              .el-tabs__nav {\r\n                .el-tabs__active-bar {\r\n                  width: 56px !important;\r\n                }\r\n                .el-tabs__item {\r\n                  height: 54px;\r\n                  line-height: 54px;\r\n                }\r\n              }\r\n            }\r\n            &::after {\r\n              display: none;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .header-nav-right {\r\n        display: flex;\r\n        align-items: center;\r\n        .el-button {\r\n          font-size: 14px;\r\n          &.el-button--mini.is-round {\r\n            padding: 6px 15px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .el-dialog__body {\r\n    .workflow-body {\r\n      position: fixed;\r\n      top: 54px;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      z-index: 1;\r\n      overflow-x: hidden;\r\n      overflow-y: auto;\r\n    }\r\n  }\r\n}\r\n.workflow-tip-dialog {\r\n  .el-dialog__header {\r\n    padding: 0 0 0 20px;\r\n    line-height: 50px;\r\n    height: 50px;\r\n    background: #fff;\r\n    border-bottom: 1px solid #f2f2f2;\r\n    .el-dialog__title {\r\n      font-size: 16px;\r\n      line-height: 50px;\r\n      color: #333;\r\n    }\r\n  }\r\n  .el-dialog__body {\r\n    .el-icon-error {\r\n      font-size: 22px;\r\n      margin-right: 16px;\r\n      float: left;\r\n      color: #f00;\r\n    }\r\n    .confirm-title {\r\n      color: rgba(0, 0, 0, 0.85);\r\n      font-weight: 500;\r\n      font-size: 16px;\r\n      line-height: 1.4;\r\n      display: inline-block;\r\n      overflow: hidden;\r\n    }\r\n    .confirm-content {\r\n      margin-left: 38px;\r\n      font-size: 14px;\r\n      color: rgba(0, 0, 0, 0.65);\r\n      margin-top: 8px;\r\n      .error-modal-desc {\r\n        font-size: 13px;\r\n        color: rgba(25, 31, 37, 0.56);\r\n        line-height: 22px;\r\n        margin-bottom: 14px;\r\n      }\r\n      .error-modal-list {\r\n        height: 200px;\r\n        overflow-y: auto;\r\n        .error-modal-item {\r\n          padding: 10px 20px;\r\n          line-height: 21px;\r\n          background: #f6f6f6;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 8px;\r\n          border-radius: 4px;\r\n          .error-modal-item-label {\r\n            flex: none;\r\n            font-size: 15px;\r\n            color: rgba(25, 31, 37, 0.56);\r\n            padding-right: 10px;\r\n          }\r\n          .error-modal-item-content {\r\n            text-align: right;\r\n            flex: 1;\r\n            font-size: 13px;\r\n            color: #191f25;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .el-dialog__footer {\r\n    border-top: 1px solid #f2f2f2;\r\n    padding-bottom: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6aab9f70&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}